# **ADR-001:** 사용자 인증 및 정보 보안 정책

## Context

스프링 시큐리티를 이용하는 것만으로도 실제 업계에서 요구하는 주요 보안점검 항목들이 상당부분 충족된다. 
보안을 중시하는 기업형 어플리케이션을 제작하는데 필요한 몇가지 추가 요구조건들을 구현해 놓으면, 추후 프로젝트를 수행하는데 큰 도움이 된다.

## Decision

스프링 시큐리티의 기본 정책 이외에 필드에서 요구되는 주요한 요구 항목을 아래와 같이 정의한다. 

* 패스워드 유효기간은 사용자 설정을 따른다.
* 패스워드 만료 몇일전 부터 안내 메시지를 보여줄지는 사용자 설정을 따른다.
* 관리자는 disabled 필드를 이용해 특정 사용자의 비활성화 여부를 관리한다.
* 패스워드 5회 이상 오류 시 locked 필드를 이용해 사용자는 잠김처리 된다.
* 중복 로그인 허용 횟수는 사용자 설정을 따른다.
* 로그인 세션 유지 기간은 사용자 설정을 따른다.

## Status
`Accepted`

## Consequence

현재 구현된 항목은 아래와 같다.

* 패스워드 유효기간 설정 (90일)  
  - `app.admin.password.validity.period.days=90`
  - -1 을 줄 경우 유효기간 체크를 하지 않는다.
* 패스워드 유효기간 만료 7일전 부터 안내 메시지 보이기
  - `app.admin.password.change.notice.period.days=7`
* 관리자는 disabled 필드를 이용해 특정 사용자의 비활성화 여부를 관리한다.
* 패스워드 5회 이상 오류 시 locked 필드를 이용해 사용자는 잠김처리 된다.  
  - `app.admin.auth.fail.permit=5`
  - 잠김 처리 시 사용자가 패스워드를 초기화하는 기능은 아직 구현되지 않았다. 현재는 관리자에게 문의하라는 메세지를 보여준다.
* 중복 로그인 허용 횟수는 유동적으로 조절이 가능하다. 
  - `app.admin.session.maximum.num=1`
  - max 가 1인 경우 중복 로그인이 발생하면 이전 세션을 차단하고 로그인 한다는 메세지가 사용자에게 보여진다. 
* 로그인 세션 유지 기간 설정이 가능하다.  
  - `app.admin.session.validity.period.seconds=3600`
